env:
  global:
    - CC_TEST_REPORTER_ID=74ef01411faa2e264a9745e138d824843180045c954a6904bcd1dff4951d127b

language: php

php:
  - 7.1

install:
  - sudo apt-get -qq update

before_script:
  - composer install --prefer-source
  - curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter
  - chmod +x ./cc-test-reporter
  - ./cc-test-reporter before-build

script:
  - phpunit -c phpunit.xml --coverage-clover build/logs/clover.xml
  - ./cc-test-reporter after-build --exit-code $TRAVIS_TEST_RESULT

addons:
  code_climate:
    repo_token:
      secure: yDTkhbqEL31Zv8bxPSikRkpyv4HnrDj46g6rOZjSPbB9GhTv9kDDXUna7FyWnTD1FK3isiuGj3XQHFu/itIUDm/kzm8JJeIuz7w4H5okcnu/qCnMvG8ybLVNyUR+YU1BzzqTk3XV0HeSE/csiHfqkWi/vbA7J6v/Ka8jDm+cuTyM5tjDkDk789LMpC+9ldfSqkSRUA3tXnaMDD98Tkb9h80JCY+RcifgBRKiuHRHHgRLaL4rxjspTXxH9k349xZE4XEdlZB3BZNpkMIaaYwgY71mw5OsPRv+YnkPepX6eNSG0hYh4qzRGhrIzpWkiFpNuHsUrntW98CvHWGiAJvf5offWpsW/+wiaRMej/4H+iS/N/I+y0nYQY/uH/4xnshcBDvkLSY1Vp0BOmfJdWy5CJDUnQT8pBlWB9CBW2gVi9wvXJfcDtYtehELz3HItppF+Z2hR9yh40FZkegq11lsJUzSpvj7Yb9oFRClIB2KephBZQyV/H5YquSeG7056mOVcaRXZtZQeBXB8wKenofCoHh8Um/0kEsGtQWtR27VTPrxa8KMEHg6EJIu6E+KyAWGhbza4my6R16ECcu2w0MegE8gmoL6xwoHFW7g4q1c7J6GIq1XAYYbAebzITZuP+vW6bM7qkKlWxDxY5OvmBTvC8Cj6mhsIUrw25GUyKLrxRc=